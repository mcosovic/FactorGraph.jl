<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Input Data · FactorGraph</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="FactorGraph logo"/></a><div class="docs-package-name"><span class="docs-autofit">FactorGraph</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Continuous Framework</span><ul><li><a class="tocitem" href="../continuousInput/">Input Data</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">General Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../continuousModel/">Graphical Model</a></li><li><a class="tocitem" href="../continuousInference/">Inference</a></li><li><a class="tocitem" href="../continuousOutput/">Output Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Tree Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../continuousTreeModel/">Graphical Model</a></li><li><a class="tocitem" href="../continuousTreeInference/">Inference</a></li><li><a class="tocitem" href="../continuousTreeOutput/">Output Data</a></li></ul></li><li><a class="tocitem" href="../utility/">Utility Functions</a></li></ul></li><li><span class="tocitem">Discrete Framework</span><ul><li class="is-active"><a class="tocitem" href>Input Data</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Tree Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../discreteTreeModel/">Graphical Model</a></li><li><a class="tocitem" href="../discreteTreeInference/">Inference</a></li><li><a class="tocitem" href="../discreteTreeOutput/">Output Data</a></li></ul></li></ul></li><li><a class="tocitem" href="../theoretical/">Theoretical Background</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Discrete Framework</a></li><li class="is-active"><a href>Input Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Input Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/FactorGraph.jl/blob/master/docs/src/man/discreteInput.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="inputdataDiscrete"><a class="docs-heading-anchor" href="#inputdataDiscrete">Input Data</a><a id="inputdataDiscrete-1"></a><a class="docs-heading-anchor-permalink" href="#inputdataDiscrete" title="Permalink"></a></h1><p>The FactorGraph package requires knowledge about the joint probability density function <span>$g(\mathcal{X})$</span> of the set of random variables <span>$\mathcal{X} = \{x_1,\dots,x_n\}$</span> that can be factorised proportionally  (<span>$\propto$</span>) to a product of local functions:</p><p class="math-container">\[    g(\mathcal{X}) \propto \prod_{i=1}^m \psi_i(\mathcal{X}_i).\]</p><p>The FactorGraph package supports disrecte random variables, where each random variable having <span>$K$</span> possible states, while local function <span>$\psi_i(\mathcal{X}_i)$</span> is defined as the conditional probability distribution:</p><p class="math-container">\[  p_i(x_i|\mathcal{X}_i \setminus x_i),\]</p><p>Hence, the local function is associated with the conditional distribution <span>$p_i(x_i|\mathcal{X}_i \setminus x_i)$</span> and the set of random variables <span>$\mathcal{X}_i$</span>. The conditional distribution takes probability values over all possible state combinations of the random variables from the set <span>$\mathcal{X}_i$</span> forming the conditional probability table. To describe the joint probability density function <span>$g(\mathcal{X})$</span>, it is enough to define the container that saves indices of discrete variables and conditional probability tables.</p><p>The input data used to describe the joint probability density function can be given using HDF5 and XLSX input files or by passing data directly via command-line arguments. The examples of the input files are located in the <code>src/example</code>. Note that, with large-scale systems, we strongly recommend using the HDF5 file data format.</p><p>Thus, the parameters that describe the factor graph structure are represented by variable <code>probability</code> containing indices of random variables, while variable <code>table</code> saves conditional probability tables. The function <code>discreteTreeModel()</code> accepts HDF5 and XLSX input files with variables <code>probability</code> and <code>table</code>. Also, this function accepts variables <code>probability</code> and <code>table</code> directly via function arguments.</p><hr/><h4 id="Build-the-graphical-model-by-passing-arguments"><a class="docs-heading-anchor" href="#Build-the-graphical-model-by-passing-arguments">Build the graphical model by passing arguments</a><a id="Build-the-graphical-model-by-passing-arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-graphical-model-by-passing-arguments" title="Permalink"></a></h4><p>Let us observe the following joint probability density function:</p><p class="math-container">\[    g(\mathcal{X})  =  p_1(x_1)p_2(x_1|x_2)p_3(x_1|x_2,x_3),\]</p><p>where all variables have two states <span>$1$</span> and <span>$2$</span>. The conditional probability tables can be written in the compact form:</p><table><tr><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th><th style="text-align: center"></th></tr><tr><td style="text-align: center"><span>$x_1$</span></td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">2</td></tr><tr><td style="text-align: center"><span>$x_2$</span></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">2</td></tr><tr><td style="text-align: center"><span>$x_3$</span></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">1</td><td style="text-align: center">2</td><td style="text-align: center">2</td><td style="text-align: center">2</td><td style="text-align: center">2</td></tr><tr><td style="text-align: center">probability</td><td style="text-align: center">0.6</td><td style="text-align: center">0.4</td><td style="text-align: center">0.8</td><td style="text-align: center">0.5</td><td style="text-align: center">0.2</td><td style="text-align: center">0.5</td><td style="text-align: center">1.0</td><td style="text-align: center">0.1</td><td style="text-align: center">0.5</td><td style="text-align: center">0.6</td><td style="text-align: center">0.0</td><td style="text-align: center">0.9</td><td style="text-align: center">0.5</td><td style="text-align: center">0.4</td></tr><tr><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td></tr></table><p>Let us define the variable <code>probability</code> that contains discrete variable indices:</p><pre><code class="language-julia-repl">probability1 = [1]
probability2 = [1; 2]
probability3 = [1; 2; 3]

probability = [probability1, probability2, probability3]</code></pre><p>Further, we define the variable <code>table</code> that holds conditional probability tables:</p><pre><code class="language-julia-repl">table1 = zeros(2)
table1[1] = 0.6; table1[1] = 0.4

table2 = zeros(2, 2)
table2[1, 1] = 0.8; table2[2, 1] = 0.5; table2[1, 2] = 0.2; table2[2, 2] = 0.5

table3 = zeros(2, 2, 2)
table3[1, 1, 1] = 1.0; table3[2, 1, 1] = 0.1; table3[1, 2, 1] = 0.5; table3[2, 2, 1] = 0.6
table3[1, 1, 2] = 0.0; table3[2, 1, 2] = 0.9; table3[1, 2, 2] = 0.5; table3[2, 2, 2] = 0.4

table = [table1, table2, table3]</code></pre><p>Passing data directly via command-line arguments supports the above format, where the function <code>discreteTreeModel()</code> accepts variables <code>probability</code> and <code>table</code>:</p><pre><code class="language-julia-repl">bp = discreteTreeModel(probability, table)</code></pre><p>Here, the variable <code>bp</code> holds the main composite type related to the discrete model. We can also pack the input data as a dictionary and pass to the function <code>discreteTreeModel()</code>:</p><pre><code class="language-julia-repl">inputData = Dict(&quot;probability&quot; =&gt; (probability1, probability2, probability3),
                 &quot;table&quot;  =&gt; (table1, table2, table3))

bp = discreteTreeModel(inputData)</code></pre><hr/><h4 id="Build-the-graphical-model-using-HDF5-file"><a class="docs-heading-anchor" href="#Build-the-graphical-model-using-HDF5-file">Build the graphical model using HDF5 file</a><a id="Build-the-graphical-model-using-HDF5-file-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-graphical-model-using-HDF5-file" title="Permalink"></a></h4><p>The HDF5 input data stored above format in the fields <code>probability</code> and <code>table</code>. Inside these fields, each subfield holds data about specific conditional probability distribution with a unique subfield name. Subfield names through fields <code>probability</code> and <code>table</code> must match.</p><hr/><h4 id="Build-the-graphical-model-using-XLSX-file"><a class="docs-heading-anchor" href="#Build-the-graphical-model-using-XLSX-file">Build the graphical model using XLSX file</a><a id="Build-the-graphical-model-using-XLSX-file-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-graphical-model-using-XLSX-file" title="Permalink"></a></h4><p>The input data stored in the XLSX file requires conditional probability tables in the native form with discrete variable indices. Further, the number of possible states should be given for each random variable.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../utility/">« Utility Functions</a><a class="docs-footer-nextpage" href="../discreteTreeModel/">Graphical Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 22 September 2021 16:34">Wednesday 22 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
