<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Input Data · FactorGraph</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="FactorGraph logo"/></a><div class="docs-package-name"><span class="docs-autofit">FactorGraph</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Continuous Framework</span><ul><li class="is-active"><a class="tocitem" href>Input Data</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">General Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../continuousModel/">Graphical Model</a></li><li><a class="tocitem" href="../continuousInference/">Inference</a></li><li><a class="tocitem" href="../continuousOutput/">Output Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Tree Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../continuousTreeModel/">Graphical Model</a></li><li><a class="tocitem" href="../continuousTreeInference/">Inference</a></li><li><a class="tocitem" href="../continuousTreeOutput/">Output Data</a></li></ul></li><li><a class="tocitem" href="../utility/">Utility Functions</a></li></ul></li><li><span class="tocitem">Discrete Framework</span><ul><li><a class="tocitem" href="../discreteInput/">Input Data</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Tree Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../discreteTreeModel/">Graphical Model</a></li><li><a class="tocitem" href="../discreteTreeInference/">Inference</a></li><li><a class="tocitem" href="../discreteTreeOutput/">Output Data</a></li></ul></li></ul></li><li><a class="tocitem" href="../theoretical/">Theoretical Background</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Continuous Framework</a></li><li class="is-active"><a href>Input Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Input Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/FactorGraph.jl/blob/master/docs/src/man/continuousInput.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="inputdataContinuous"><a class="docs-heading-anchor" href="#inputdataContinuous">Input Data</a><a id="inputdataContinuous-1"></a><a class="docs-heading-anchor-permalink" href="#inputdataContinuous" title="Permalink"></a></h1><p>The FactorGraph package requires knowledge about the joint probability density function <span>$g(\mathcal{X})$</span> of the set of random variables <span>$\mathcal{X} = \{x_1,\dots,x_n\}$</span> that can be factorised proportionally  (<span>$\propto$</span>) to a product of local functions:</p><p class="math-container">\[    g(\mathcal{X}) \propto \prod_{i=1}^m \psi_i(\mathcal{X}_i).\]</p><p>The FactorGraph package supports continuous random variables, where local function <span>$\psi_i(\mathcal{X}_i)$</span> is defined as a continuous Gaussian distribution:</p><p class="math-container">\[  \mathcal{N}(z_i|\mathcal{X}_i,v_i) \propto \exp\Bigg\{-\cfrac{[z_i-h_i(\mathcal{X}_i)]^2}{2v_i}\Bigg\}.\]</p><p>Hence, the local function is associated with mean <span>$z_i$</span>, variance  <span>$v_i$</span>, and linear equation <span>$h_i(\mathcal{X}_i)$</span>. To describe the joint probability density function <span>$g(\mathcal{X})$</span>, it is enough to define the Jacobian matrix containing coefficients of the equations, and vectors of mean and variance values. Then, the <span>$i$</span>-th row of the Jacobian matrix, with consistent entries of mean and variance, defines the local function <span>$\psi_i(\mathcal{X}_i)$</span>.</p><p>The input data used to describe the joint probability density function can be given using HDF5 and XLSX input files or by passing data directly via command-line arguments. The examples of the input files are located in the <code>src/example</code>. Note that, with large-scale systems, we strongly recommend using the HDF5 file data format.</p><p>Thus, the input data structure includes the <code>jacobian</code> variable, while variables <code>observation</code> and <code>variance</code> represent mean and variance vectors, respectively. The functions <code>continuousModel()</code> and <code>continuousTreeModel()</code> accept HDF5 and XLSX input files with fields/sheets <code>jacobian</code>, <code>observation</code> and <code>variance</code>. Also, these functions accept variables <code>jacobian</code>, <code>observation</code> and <code>variance</code> directly via function arguments.</p><hr/><h4 id="Build-the-graphical-model-by-passing-arguments"><a class="docs-heading-anchor" href="#Build-the-graphical-model-by-passing-arguments">Build the graphical model by passing arguments</a><a id="Build-the-graphical-model-by-passing-arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-graphical-model-by-passing-arguments" title="Permalink"></a></h4><p>Let us observe the following joint probability density function:</p><p class="math-container">\[    g(\mathcal{X}) \propto  \exp\Bigg\{-\cfrac{[2.5 - 0.2x_1]^2}{2\cdot 1.1}\Bigg\}\exp\Bigg\{-\cfrac{[0.6 - (2.1x_1 + 3.4x_2)]^2}{2\cdot 3.5}\Bigg\}\]</p><p>We can describe the joint probability density function using variables <code>jacobian</code>, <code>observation</code> and <code>variance</code>. Passing data directly via command-line support the following format, where the Jacobian matrix can be defined as a full or sparse matrix:</p><pre><code class="language-julia-repl">jacobian = zeros(2, 2)
jacobian[1, 1] = 0.2; jacobian[2, 1] = 2.1; jacobian[2, 2] = 3.4
observation = [2.5; 0.6]
variance = [1.1; 3.5]

gbp = continuousModel(jacobian, observation, variance)</code></pre><p>Here, the variable <code>gbp</code> holds the main composite type related to the continuous model. In the case of a tree factor graph, when you want to use a forward-backward algorithm, then the following command can be used:</p><pre><code class="language-julia-repl">gbp = continuousTreeModel(jacobian, observation, variance)</code></pre><hr/><h4 id="Build-the-graphical-model-using-HDF5-or-XLSX-files"><a class="docs-heading-anchor" href="#Build-the-graphical-model-using-HDF5-or-XLSX-files">Build the graphical model using HDF5 or XLSX files</a><a id="Build-the-graphical-model-using-HDF5-or-XLSX-files-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-graphical-model-using-HDF5-or-XLSX-files" title="Permalink"></a></h4><p>Further, we can represet the <code>jacobian</code> variable using row and column indecies:</p><pre><code class="language-julia-repl">jacobian = zeros(3, 3)
jacobian[1, 1] = 1; jacobian[1, 2] = 1; jacobian[1, 3] = 0.2
jacobian[2, 1] = 2; jacobian[2, 2] = 1; jacobian[2, 3] = 2.1
jacobian[3, 1] = 2; jacobian[3, 2] = 2; jacobian[3, 3] = 3.4</code></pre><p>The Jacobian matrix stored in the HDF5 or XLSX input file requires format with row and column indices with the corresponding coefficient. The input file must contain three fields with the HDF5, or three sheets with the XLSX file, with names <code>jacobian</code>, <code>observation</code> and <code>variance</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../continuousModel/">Graphical Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 27 September 2021 09:33">Monday 27 September 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
