<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Graphical Model · FactorGraph</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="FactorGraph logo"/></a><div class="docs-package-name"><span class="docs-autofit">FactorGraph</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../input/">Input Data</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">General Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Graphical Model</a></li><li><a class="tocitem" href="../inference/">Inference</a></li><li><a class="tocitem" href="../output/">Output Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tree Factor Graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../graphicalmodeltree/">Graphical Model</a></li><li><a class="tocitem" href="../inferencetree/">Inference</a></li><li><a class="tocitem" href="../outputtree/">Output Data</a></li></ul></li><li><a class="tocitem" href="../utility/">Utility Functions</a></li><li><a class="tocitem" href="../theoretical/">Theoretical Background</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">General Factor Graph</a></li><li class="is-active"><a href>Graphical Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Graphical Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/FactorGraph.jl/blob/master/docs/src/man/graphicalmodel.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="graphicalModel"><a class="docs-heading-anchor" href="#graphicalModel">Graphical Model</a><a id="graphicalModel-1"></a><a class="docs-heading-anchor-permalink" href="#graphicalModel" title="Permalink"></a></h1><p>The FactorGraph supports the composite type <code>ContinuousModel</code> related with the <a href="../theoretical/#synchronous">synchronous message passing schedule</a>, with three fields:</p><ul><li><code>ContinuousGraph</code>;</li><li><code>ContinuousInference</code>;</li><li><code>ContinuousSystem</code>.</li></ul><p>The subtype <code>ContinuousGraph</code> describes the factor graph obtained based on the input data. The GBP inference and marginal values are kept in the subtype <code>ContinuousInference</code>. The system of the linear equations being solved is preserved in the subtype <code>ContinuousSystem</code>. Note that the function <code>continuousModel()</code> returns the main FactorGraph composite type <code>ContinuousModel</code> with all subtypes.</p><p>In addition, we also provide several functions for factor graph manipulation.</p><hr/><h4 id="Build-graphical-model"><a class="docs-heading-anchor" href="#Build-graphical-model">Build graphical model</a><a id="Build-graphical-model-1"></a><a class="docs-heading-anchor-permalink" href="#Build-graphical-model" title="Permalink"></a></h4><p>Input arguments DATA of the function <code>continuousModel()</code> describe the graphical model, while the function returns <code>ContinuousModel</code> type.</p><p>Loads the system data using h5-file from the package:</p><pre><code class="language-julia-repl">gbp = continuousModel(&quot;data33_14.h5&quot;)</code></pre><p>Loads the system data using xlsx-file from the package:</p><pre><code class="language-julia-repl">gbp = continuousModel(&quot;data33_14.xlsx&quot;)</code></pre><p>Loads the system data from a custom path:</p><pre><code class="language-julia-repl">gbp = continuousModel(&quot;C:/name.h5&quot;)</code></pre><p>Loads the system data passing arguments directly:</p><pre><code class="language-julia-repl">gbp = continuousModel(jacobian, observation, variances)</code></pre><hr/><h4 id="Virtual-factor-nodes"><a class="docs-heading-anchor" href="#Virtual-factor-nodes">Virtual factor nodes</a><a id="Virtual-factor-nodes-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-factor-nodes" title="Permalink"></a></h4><p>The GBP function <code>continuousModel()</code> receives arguments by keyword to set the mean and variance of the virtual factor nodes. We advise the reader to read the section <a href="../theoretical/#synchronous">message passing schedule</a> which provides a detailed description of the virtual factor nodes.</p><pre><code class="language-julia-repl">gbp = continuousModel(DATA; mean = value, variance = value)</code></pre><p>Default setting of the mean value is <code>mean = 0.0</code>, while the default variance is equal to <code>variance = 1e10</code>.</p><hr/><h4 id="Randomized-damping-parametars"><a class="docs-heading-anchor" href="#Randomized-damping-parametars">Randomized damping parametars</a><a id="Randomized-damping-parametars-1"></a><a class="docs-heading-anchor-permalink" href="#Randomized-damping-parametars" title="Permalink"></a></h4><p>The GBP function <code>continuousModel()</code> receives arguments by keyword to set damping parametars. We advise the reader to read the section <a href="../theoretical/#dampGBP">the GBP with randomized damping</a> which provides a detailed description of the input parameters.</p><pre><code class="language-julia-repl">gbp = continuousModel(DATA; prob = value, alpha = value)</code></pre><p>The keyword <code>prob</code> represents the probability of the Bernoulli random variable, independently sampled for each mean value message from a factor node to a variable node, applied for randomised damping iteration scheme with <code>value</code> between 0 and 1. Default setting is set to <code>prob = 0.6</code>. The damped message is evaluated as a linear combination of the message from the previous and the current iteration, with weights <code>alpha = value</code> and <code>1 - alpha</code>, applied for randomised damping iteration scheme where <code>alpha</code> is between 0 and 1. Default setting is set to <code>alpha = 0.4</code>.</p><p>Using the function <code>continuousModel()</code>, the set of damp messages are fixed through GBP iterations. However, we provide the function that changes damp parameters <code>prob</code> and <code>alpha</code> on the fly:</p><pre><code class="language-julia-repl">damping!(gbp; prob = value, alpha = value)</code></pre><hr/><h4 id="Freeze-factor-node,-variable-node-or-edge"><a class="docs-heading-anchor" href="#Freeze-factor-node,-variable-node-or-edge">Freeze factor node, variable node or edge</a><a id="Freeze-factor-node,-variable-node-or-edge-1"></a><a class="docs-heading-anchor-permalink" href="#Freeze-factor-node,-variable-node-or-edge" title="Permalink"></a></h4><p>The functions freeze target factor or variable node, whereby all messages sent by the factor or variable node retain latest obtained values at the time of freezing.</p><pre><code class="language-julia-repl">freezeFactor!(gbp; factor = index)</code></pre><pre><code class="language-julia-repl">freezeVariable!(gbp; variable = index)</code></pre><p>We provide functions that freeze the target edge. More precisely, the function freezes the message from variable node to factor node, or the message from factor node to variable node. Hence, the frozen message keeps the last value obtained at the time of freezing.</p><pre><code class="language-julia-repl">freezeVariableFactor!(gbp; variable = index, factor = index)</code></pre><pre><code class="language-julia-repl">freezeFactorVariable!(gbp; factor = index, variable = index)</code></pre><p>The functions accept following parameters: composite type <code>ContinuousModel</code>; the factor node index corresponding to the row index of the Jacobian matrix; and the variable node index corresponding to the column index of the Jacobian matrix. Note that the singly connected factor nodes can not be frozen because they always send the same message.</p><hr/><h4 id="Defreeze-factor-node,-variable-node-or-edge"><a class="docs-heading-anchor" href="#Defreeze-factor-node,-variable-node-or-edge">Defreeze factor node, variable node or edge</a><a id="Defreeze-factor-node,-variable-node-or-edge-1"></a><a class="docs-heading-anchor-permalink" href="#Defreeze-factor-node,-variable-node-or-edge" title="Permalink"></a></h4><p>The functions unfreeze the target frozen factor node or frozen variable node, allowing the factor or variable node to calculate outgoing messages.</p><pre><code class="language-julia-repl">defreezeFactor!(gbp; factor = index)</code></pre><pre><code class="language-julia-repl">defreezeVariable!(gbp; variable = index)</code></pre><p>Also, we provide functions that unfreeze the target edge, starting the calculation of messages either from variable node to factor node or from factor node to variable node calculates.</p><pre><code class="language-julia-repl">defreezeVariableFactor!(gbp; variable = index, factor = index)</code></pre><pre><code class="language-julia-repl">defreezeFactorVariable!(gbp; factor = index, variable = index)</code></pre><p>The functions accept following parameters: composite type <code>ContinuousModel</code>; the factor node index corresponding to the row index of the Jacobian matrix; and the variable node index corresponding to the column index of the Jacobian matrix. Since singly connected factors cannot be frozen, they cannot be unfreezed.</p><hr/><h4 id="Hide-factor-node"><a class="docs-heading-anchor" href="#Hide-factor-node">Hide factor node</a><a id="Hide-factor-node-1"></a><a class="docs-heading-anchor-permalink" href="#Hide-factor-node" title="Permalink"></a></h4><p>Utilising a hiding mechanism, the function softly deletes factor node. Hence, the function obliterates the target factor node from the graph during the calculation. Soft delete actually removes the node, while preserving node numbering and keeping the same dimensions of the internal variables.</p><pre><code class="language-julia-repl">hideFactor!(gbp; factor = index)</code></pre><p>If the function targets the singly connected factor node, the function obliterates the target factor only if there are two or more singly connected factor nodes at the same variable node. If there is only one singly connected factor node at the variable node, the function transforms the target factor node to the virtual factor node. Note that to maintain consistency, the function also affects <code>ContinuousSystem.observation</code>, <code>ContinuousSystem.jacobian</code> and <code>ContinuousSystem.jacobianTranspose</code> fields by setting non-zero elements to zero.</p><hr/><h4 id="Add-factor-nodes"><a class="docs-heading-anchor" href="#Add-factor-nodes">Add factor nodes</a><a id="Add-factor-nodes-1"></a><a class="docs-heading-anchor-permalink" href="#Add-factor-nodes" title="Permalink"></a></h4><p>The function adds new factor nodes to the existing factor graph.</p><pre><code class="language-julia-repl">addFactors!(gbp; mean = vector, variance = vector, jacobian = matrix)</code></pre><p>The function supports addition of the multiple factor nodes to initial (existing) formation of the factor graph using the same input data format. The function accepts the following parameters: composite type <code>ContinuousModel</code>; the <code>mean</code> and <code>variance</code> vectors representing new measurement values and variances, respectively. The keyword <code>jacobian</code> with corresponding coefficients defines the set of equations describing new factor nodes. Also, function initializes messages from variable nodes to a new factor node using results from the last GBP iteration. Note that the function also affects <code>ContinuousSystem.observation</code>, <code>ContinuousSystem.variance</code>, <code>ContinuousSystem.jacobian</code> and <code>ContinuousSystem.jacobianTranspose</code> fields.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../input/">« Input Data</a><a class="docs-footer-nextpage" href="../inference/">Inference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 14 September 2021 19:47">Tuesday 14 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
